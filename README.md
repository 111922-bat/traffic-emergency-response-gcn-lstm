# traffic-emergency-response-gcn-lstm
## 项目简介

这是一个基于图卷积网络（GCN）和长短期记忆网络（LSTM）的智能交通应急快速响应系统。该系统能够预测交通流量和速度，结合实时拥堵状况、天气条件和突发事件，为应急车辆规划最优路径，提高交通应急响应效率。

### 核心功能

- **时空交通预测**：基于GCN+LSTM模型预测未来交通流量和速度
- **智能路径规划**：结合多因素（拥堵、天气、事件）的路径优化算法
- **可解释性分析**：提供预测结果和路径选择的自然语言解释
- **Web交互界面**：直观的用户界面，支持参数配置和结果可视化
- **多源数据融合**：支持交通、天气、事件等多源数据的整合分析
- ## 系统架构

![系统架构]

## 详细配置

### 配置文件说明

配置文件 `config.yaml` 包含以下主要配置项：

- **grid**：网格参数（行列数、单元格大小）
- **time**：时间参数（历史窗口、预测步数、时间步长）
- **synthetic**：合成数据参数
- **adjacency**：邻接矩阵构造参数
- **paths**：数据和输出路径
- **training**：训练参数（轮次、学习率调度等）
- **routing**：路径规划参数（权重系数）

### 路径规划参数

路径规划支持自定义权重系数，用于调整不同因素的影响程度：

- **alpha**：拥堵权重（默认1.0）
- **beta**：天气权重（默认0.2）
- **gamma**：事件权重（默认0.5）
- **avg_steps**：预测步数平均（默认3）

## 核心算法

### 1. 交通预测模型：GCN+LSTM

结合图卷积网络（GCN）和长短期记忆网络（LSTM），有效捕捉交通数据的空间依赖关系和时间演化模式。

- **GCN层**：隐藏维度32，捕捉空间邻域关系
- **LSTM层**：隐藏维度64，建模时间序列依赖
- **输出层**：预测未来交通流量和速度

### 2. 路径规划算法：改进的Dijkstra

考虑多因素的路径优化算法，基于预测的交通状况计算最优路径。

- 支持拥堵、天气、事件等多因素加权
- 动态调整路段代价计算
- 可选升级为A*算法或D* Lite算法以提高效率
# 数据说明

### 支持的数据格式

- **交通数据**：时间序列格式，包含节点ID、时间戳、速度等信息
- **图数据**：边列表格式，包含源节点、目标节点、距离等信息
- **天气数据**：时间序列格式，包含节点ID、时间戳、天气等级等信息
- **事件数据**：时间序列格式，包含节点ID、时间戳、事件权重等信息

### 数据准备

可以使用合成数据或真实数据：
- 合成数据：通过 `prepare_data.py` 生成
- 真实数据：参考 `docs/REAL_DATA_GUIDE.md` 准备数据

## 可视化

### 路径可视化

路径规划结果会生成为HTML文件，保存在 `outputs/plots/route_map.html`。支持两种可视化方式：

- **Folium**：主要可视化方式，提供交互式地图
- **Leaflet**：备用可视化方式，当Folium不可用时自动切换

### 预测结果可视化

预测结果保存在 `outputs/logs/predictions.csv`，可以通过Web界面或其他工具进行可视化分析。
